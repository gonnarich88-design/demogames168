# ‡∏ö‡∏≠‡∏ó Telegram ‚Äî ‡πÉ‡∏´‡πâ‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° (‡∏£‡∏π‡∏õ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö + ‡∏õ‡∏∏‡πà‡∏°)

## ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô repo ‡∏ô‡∏µ‡πâ)

- **/start** ‚Üí ‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö + ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö + ‡∏õ‡∏∏‡πà‡∏° 4 ‡∏õ‡∏∏‡πà‡∏° (‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ü‡∏£‡∏µ, ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å, ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏Å, ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å)
- **/games** ‚Üí ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "üé∞ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏¢‡πÄ‡∏Å‡∏°" + ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏¢ (JILI, PP, Joker ‡∏Ø‡∏•‡∏Ø) ‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î Web App

## ‡∏ñ‡πâ‡∏≤‡∏ö‡∏≠‡∏ó‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡∏ú‡∏¥‡∏î (‡πÅ‡∏Ñ‡πà "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏° co168bot" / "‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏°: ‡πÄ‡∏Å‡∏° 1, 2, 3")

‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ö‡∏≠‡∏ó **‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å repo ‡∏ô‡∏µ‡πâ**

### ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°

1. **‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å repo ‡∏ô‡∏µ‡πâ‡∏ö‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô‡∏ö‡∏≠‡∏ó**
   - ‡πÇ‡∏Ñ‡∏•‡∏ô‡∏´‡∏£‡∏∑‡∏≠ pull ‡πÇ‡∏Ñ‡πâ‡∏î miniapp ‡∏ô‡∏µ‡πâ
   - ‡πÉ‡∏ä‡πâ `server.js` ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏£‡∏±‡∏ô (‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏•‡∏∞‡∏ö‡∏≠‡∏ó)

2. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ .env ‡∏ö‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå**
   - `BOT_TOKEN` = ‡πÇ‡∏ó‡πÄ‡∏Ñ‡∏ô‡∏Ç‡∏≠‡∏á @co168bot (‡∏à‡∏≤‡∏Å BotFather)
   - `WEBAPP_URL` = URL ‡∏Ç‡∏≠‡∏á Web App (‡πÄ‡∏ä‡πà‡∏ô https://demogames.sky168.info)

3. **‡∏£‡∏±‡∏ô‡∏ö‡∏≠‡∏ó‡∏î‡πâ‡∏ß‡∏¢ server.js ‡∏ô‡∏µ‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô**
   ```bash
   node server.js
   ```
   ‡∏´‡∏£‡∏∑‡∏≠ `npm start`  
   **‡∏´‡πâ‡∏≤‡∏°‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ö‡∏≠‡∏ó‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ BOT_TOKEN ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô** (‡πÄ‡∏ä‡πà‡∏ô bot ‡πÅ‡∏¢‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö" / "‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏°: ‡πÄ‡∏Å‡∏° 1, 2, 3") ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏Å‡πà‡∏≤

4. **‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏´‡∏•‡∏±‡∏á deploy**
   - ‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏´‡∏£‡∏∑‡∏≠ .env ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á restart process (pm2 restart / systemctl restart / ‡∏Ø‡∏•‡∏Ø)

5. **‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ process ‡∏ã‡πâ‡∏≥**
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ node script ‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ `BOT_TOKEN` ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà (‡πÇ‡∏ü‡∏•‡∏ß‡πå‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏∞‡πÑ‡∏õ‡∏ó‡∏µ‡πà process ‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Å‡∏±‡∏ö Telegram ‡∏Å‡πà‡∏≠‡∏ô)

## ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏£‡∏±‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏ä‡∏∏‡∏î‡∏ô‡∏µ‡πâ + ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ö‡∏≠‡∏ó

‡πÄ‡∏õ‡∏¥‡∏î **https://‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì/api/bot-check** ‡∏à‡∏∞‡πÑ‡∏î‡πâ JSON ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:

- **active** ‚Äî ‡∏ö‡∏≠‡∏ó‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ô server ‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- **telegram.connected** ‚Äî ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Telegram API ‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà (‡∏ñ‡πâ‡∏≤ false ‡∏°‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô BOT_TOKEN ‡∏ú‡∏¥‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢/‡πÑ‡∏ü‡∏£‡πå‡∏ß‡∏≠‡∏•‡∏•‡πå)
- **lastUpdateAt** / **lastUpdateAgo** ‚Äî ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å Telegram  
  - ‡∏ñ‡πâ‡∏≤ **lastUpdateAgo ‡πÄ‡∏Å‡πà‡∏≤‡∏°‡∏≤‡∏Å (‡∏´‡∏£‡∏∑‡∏≠ null)** ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï (‡πÄ‡∏ä‡πà‡∏ô /start) **‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ** ‚Üí ‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏µ process ‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ä‡πâ BOT_TOKEN ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà (‡πÇ‡∏ü‡∏•‡∏ß‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡πâ‡∏ô)
  - ‡∏ñ‡πâ‡∏≤ **lastUpdateAgo ‡πÉ‡∏´‡∏°‡πà** ‡πÅ‡∏ï‡πà user ‡∏Å‡∏î /start ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô ‚Üí ‡∏î‡∏π log ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ß‡πà‡∏≤‡∏°‡∏µ `[BOT] /start received` ‡πÅ‡∏•‡∏∞‡∏°‡∏µ `[BOT] Error in /start` ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

‡∏î‡∏π log ‡∏ï‡∏≠‡∏ô‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô `ü§ñ Telegram bot started ‚Äî @co168bot`

---

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ö‡∏≠‡∏ó ‚Äî ‡πÄ‡∏ß‡∏•‡∏≤ deploy ‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏≤‡∏¢‡∏∏‡πà‡∏á‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå/volume ‡∏ô‡∏µ‡πâ

‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏≠‡∏ó (‡πÉ‡∏Ñ‡∏£‡∏Å‡∏î /start, /games ‡∏Ø‡∏•‡∏Ø) ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå JSON ‡∏ó‡∏µ‡πà path ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:

| ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ | Path (production) | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ |
|-----------|--------------------|----------|
| ‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å | `/app/data/bot-events.json` | ‡∏≠‡πà‡∏≤‡∏ô/‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏õ |
| Volume (Docker) | `app-data` ‚Üí `/app/data` | ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô volume ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢‡∏ï‡∏≠‡∏ô deploy |

### ‡∏Å‡∏é‡πÄ‡∏ß‡∏•‡∏≤ Deploy (‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥)

- **‡∏´‡πâ‡∏≤‡∏°** ‡∏•‡∏ö volume `app-data` ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏±‡πà‡∏á `docker compose down -v` (‡∏ï‡∏±‡∏ß -v ‡∏à‡∏∞‡∏•‡∏ö volume)
- **‡∏´‡πâ‡∏≤‡∏°** mount path ‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏±‡∏ö `/app/data` ‡πÉ‡∏ô container
- **‡∏´‡πâ‡∏≤‡∏°** copy ‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏≤‡∏Å build/repo ‡πÑ‡∏õ‡∏ó‡∏±‡∏ö path ‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‚Äî ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `data/` ‡∏ñ‡∏π‡∏Å‡πÉ‡∏™‡πà‡πÉ‡∏ô `.dockerignore` ‡πÅ‡∏•‡πâ‡∏ß ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô image ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤ build/deploy ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏õ‡∏ó‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô volume

### ‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢

1. **Deploy ‡∏î‡πâ‡∏ß‡∏¢ docker-compose.yml ‡πÉ‡∏ô repo ‡∏ô‡∏µ‡πâ**  
   ‡∏°‡∏µ volume `app-data` mount ‡∏ó‡∏µ‡πà `/app/data` ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô volume ‡∏ô‡∏µ‡πâ ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡πà‡∏á `docker compose build --pull && docker compose up -d` (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ -v)

2. **Deploy ‡πÅ‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Docker)**  
   ‡∏ï‡∏±‡πâ‡∏á `BOT_EVENTS_PATH` ‡πÉ‡∏ô .env ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà path ‡∏ó‡∏µ‡πà **‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏≠‡∏Å‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå** ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏´‡∏£‡∏∑‡∏≠ overwrite ‡∏ï‡∏≠‡∏ô deploy (‡πÄ‡∏ä‡πà‡∏ô `/var/lib/miniapp/bot-events.json`)

3. **‡∏™‡∏≥‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)**  
   ‡∏ï‡∏±‡πâ‡∏á `BOT_EVENTS_BACKUP_PATH` ‡πÉ‡∏ô .env ‡πÄ‡∏õ‡πá‡∏ô path ‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏∂‡πà‡∏á (‡πÄ‡∏ä‡πà‡∏ô volume ‡∏≠‡∏∑‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠ host path) ‡πÅ‡∏≠‡∏õ‡∏à‡∏∞‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô backup ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏Å‡∏π‡πâ‡∏à‡∏≤‡∏Å backup ‡∏ï‡∏≠‡∏ô‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏ñ‡πâ‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏´‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏á
